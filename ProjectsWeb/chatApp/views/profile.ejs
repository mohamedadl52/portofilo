<%- include('./partials/header') %> 
 
  <!-- ======= Hero Section ======= -->
  <style>
 
.testsc::-webkit-scrollbar {
  width: 0.5em;
}
 
.testsc::-webkit-scrollbar-track {
  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
}
.testsc::-webkit-scrollbar-thumb {
  background-color: darkgrey;
  outline: 1px solid slategrey;
}
  </style>
  <section id="hero">
    <div class="hero-container" data-aos="zoom-in" data-aos-delay="100">
        <section>
          <% if(friends && isOwner){ %>
            <div class="position-absolute testsc mx-5  overflow-auto h-75  end-0">
              <div class="alert alert-success">
                my friends
              </div>

              <ul>
                <% for (let friend of friends) { %>
                <li class="alert alert-primary"><a class="alert alert-primary" href="/profile/<%= friend.id %>"><%= friend.name %></a></li>
                <%}%>
              </ul>
            </div>
            <%}%>
            <div class="container py-5 h-100">
              <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-md-12 ">
                  <div class="card" style="border-radius: 15px;">
                    <div class="card-body text-center">
                      <div class="mt-3 mb-4">
                        <img src="/assets/img/<%= user.image %>"
                          class="rounded-circle img-fluid" style="width: 100px;" />
                      </div>
                      <h4 class="mb-2"><%= user.username %></h4>
                      <p class="text-muted mb-4">@email <span class="mx-2">|</span> <a
                          href="#!"><%= user.email %></a></p>
                      <div class="mb-4 pb-2">
                        <button type="button" class="btn btn-outline-primary btn-floating">
                            <i class='bx bxl-facebook-circle'></i>
                        </button>
                        <button type="button" class="btn btn-outline-primary btn-floating">
                            <i class='bx bxl-twitter' ></i>
                                                </button>
                        <button type="button" class="btn btn-outline-primary btn-floating">
                            <i class='bx bxl-google' ></i>
                                                </button>
                                              
                      </div>
                      <p class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        edit my profile
                      </p>
                      <% if(!isOwner) { %>
                        <form  method="POST" id="formId">
                          <input type="text" id="userName" name="userUsername" value="<%= user.username %>" hidden>
                          <input type="text" id="userId" name="userId" value="<%= user.id %>" hidden>
                          <input type="text" id="userImage" name="userImage" value="<%= user.image %>" hidden>
                      <%  if(isFriend) { %>
                        <button type="button" class="btn btn-primary btn-rounded btn-sm">
                            Message now
                          <button type="submit" formaction="/profile/delete" class="btn btn-danger btn-rounded btn-sm">
                              delete friend
                          </button>

                          <% } else if(isRequestSent){ %>
                            <span>you all ready sent request</span>
                                <button id="CancelBtn" formaction="/profile/cancel" type="submit" class="btn btn-danger btn-rounded btn-sm">
                                    cancel
                                </button>
                        <% } else if(isRequestRecieved){ %>
                                <button formaction="/profile/accept" type="submit" class="btn btn-success btn-rounded btn-sm">
                                    accept
                                </button>
                                <button formaction="/profile/reject"  type="submit" class="btn btn-danger btn-rounded btn-sm">
                                    reject
                                </button>
                            <% } else { %>
                              
                              <input type="submit" value="add"  id="addBtn" class="btn btn-success btn-rounded btn-sm">
                              <%}%>
                            </form>
                            
                        <%}%>
                    </div>
                  </div>
          
                </div>
              </div>
            </div>
          </section>
        
              
      
       </div>
          </section><!-- End Contact Section -->
      
    </div>
  </section><!-- End Hero Section -->

    <!-- ======= Contact Section ======= -->
  
  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="footer-top">
      <div class="container">

      </div>
    </div>

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong>Chat Application</strong>. All Rights Reserved
      </div>
      <div class="credits">
        <!--
        All the links in the footer should remain intact.
        You can delete the links only if you purchased the pro version.
        Licensing information: https://bootstrapmade.com/license/
        Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=Regna
      -->
        Designed by <a href="https://bootstrapmade.com/">Mohamed Adel</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="/assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="/assets/vendor/aos/aos.js"></script>
  <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="/assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="/assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="/assets/vendor/php-email-form/validate.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <!-- Template Main JS File -->
  <script src="/assets/js/main.js"></script> 

  <script src="/assets/js/init.socket.js"></script> 

  <%  if(!isOwner && !isFriend && !isRequestRecieved && !isRequestSent ) { %>
  <script src="/assets/js/friend.socket.js"></script> 
  <% } %>


</body>

</html>